<div [@routerTransition]>
  <!-- <div class="row">
    <div class="col-md-12">
      <ngb-carousel>
        <ng-template ngbSlide *ngFor="let slider of sliders">
          <img class="img-fluid mx-auto d-block" [src]="slider.imagePath" alt="Random first slide" width="100%">
          <div class="carousel-caption">
            <h3>{{slider.label}}</h3>
            <p>{{slider.text}}</p>
          </div>
        </ng-template>
      </ngb-carousel>
    </div>
  </div>
  <hr> -->

  <div class="row" *ngIf="interviewsToday">
    <div class="col col-xl-12 col-lg-12">
      <div class="card mb-3">
        <div class="card-header bg-dark text-clr-white">Interviews this week</div>
        <div class="table-scroll">
          <table class="table table-sm">
            <thead>
              <tr>
                <th>Client</th>
                <th>Client No.</th>
                <th>Consultant</th>
                <th>Consultant No.</th>
                <th>Mode</th>
                <th>Date</th>
                <th>Location</th>
                <th>Time</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let val of interviewsToday">
                <td>{{ val.clientName }}</td>
                <td>{{ val.clientPhone }}</td>
                <td>{{ val.consultantName }}</td>
                <td>{{ val.consultantPhone }}</td>
                <td>{{ val.interviewMode }}</td>
                <td>{{ val.interviewDate }}</td>
                <td>{{ val.interviewLocation }}</td>
                <td>{{ val.interviewTime }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col col-xl-6 col-lg-12">
      <div class="card mb-3 ">
        <div class="card-header bg-dark text-clr-white">
          Consultant Call History
          <span class="pull-right">
            <select class="form-control form-control-sm" name="cp" #t [(ngModel)]="cochChoosenDays"
              (change)="cochGetAllByDays()">
              <option *ngFor="let nod of noOfDays | keyvalue" [ngValue]="nod.value">{{nod.key}}
              </option>
            </select>
          </span>
        </div>
        <div class="table-scroll">
          <table class="table table-sm ">
            <thead>
              <tr>
                <th>Name</th>
                <th>Count</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let cch of ccptReportCOCH"
                data-toggle="tooltip"
                (click)="open(contentCoCH, cch.recruiterId, 'ConsultantCallHistory')"
              >
                <td>{{ cch.fullName }}</td>
                <td>{{ cch.count }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col col-xl-6 col-lg-12">
      <div class="card mb-3">
        <div class="card-header bg-dark text-clr-white">
          Client Call History
          <span class="pull-right">
            <select class="form-control form-control-sm" name="cp" #t [(ngModel)]="clchChoosenDays"
              (change)="clchGetAllByDays()">
              <option *ngFor="let nod of noOfDays | keyvalue" [ngValue]="nod.value">{{nod.key}}
              </option>
            </select>
          </span>
        </div>
        <div class="table-scroll">
          <table class="table table-sm">
            <thead>
              <tr>
                <th>Name</th>
                <th>Count</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let cch of ccptReportCLCH"
                data-toggle="tooltip"
                (click)="open(contentClch, cch.recruiterId, 'ClientCallHistory')"
              >
                <td>{{ cch.fullName }}</td>
                <td>{{ cch.count }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- </div>
    <div class="row">
      <div class="col-xl-3 col-lg-6">
        <app-stat [bgClass]="'primary'" [icon]="'fa-comments'" [count]="26" [label]="'New Comments!'"></app-stat>
      </div>
      <div class="col-xl-3 col-lg-6">
        <app-stat [bgClass]="'warning'" [icon]="'fa-tasks'" [count]="12" [label]="'New task!'"></app-stat>
      </div>
      <div class="col-xl-3 col-lg-6">
        <app-stat [bgClass]="'success'" [icon]="'fa-shopping-cart'" [count]="124" [label]="'New Orders!'"></app-stat>
      </div>
      <div class="col-xl-3 col-lg-6">
        <app-stat [bgClass]="'danger'" [icon]="'fa-support'" [count]="13" [label]="'New Tickets!'"></app-stat>
      </div>
    </div>
    <hr />
    <ngb-alert [type]="alert.type" (close)="closeAlert(alert)" *ngFor="let alert of alerts">{{ alert.message }}
    </ngb-alert>
    <hr />
    <div class="row">
      <div class="col-lg-8">
        <div class="card card-default">
          <div class="card-header">
            <i class="fa fa-clock-o fa-fw"></i> Responsive Timeline
          </div>
          <app-timeline></app-timeline>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card card-default mb-3">
          <div class="card-header">
            <i class="fa fa-bell fa-fw"></i> Notifications card
          </div>
          <app-notification></app-notification>
        </div>
  
        <app-chat></app-chat>
      </div>
    </div> -->
  </div>
  <div class="row">
    <div class="col col-xl-6 col-lg-12">
      <div class="card mb-3">
        <div class="card-header bg-dark text-clr-white">
          Recruiter Performance
          <span class="pull-right">
            <select class="form-control form-control-sm" name="cp" #t [(ngModel)]="rpChoosenDays" (change)="rpGetAllByDays()">
              <option *ngFor="let nod of noOfDays | keyvalue" [ngValue]="nod.value">{{ nod.key }} </option>
            </select>
          </span>
        </div>
        <div class="table-scroll">
          <table class="table table-sm">
            <thead>
              <tr>
                <th>Recruiter</th>
                <th>No.of closures</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let val of ccptReportCC | keyvalue">
                <td>{{ val.key }}</td>
                <td>{{ val.value }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col col-xl-6 col-lg-12">
      <div class="card mb-3">
        <div class="card-header bg-dark text-clr-white">Latest Client Positions (Top 5)</div>
        <div class="table-scroll">
          <table class="table table-sm">
            <thead>
              <tr>
                <th>Client</th>
                <th>Code</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let cpl of ccptReportCPL">
                <td>{{ cpl.client.name }}</td>
                <td>{{ cpl.generatedCode }}</td>
                <td>{{ cpl.createdDate | date }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col col-xl-6 col-lg-12">
      <div class="card mb-3">
        <div class="card-header bg-dark text-clr-white">Open Client Positions</div>
        <div class="table-scroll">
          <table class="table table-sm">
            <thead>
              <tr>
                <th>Client</th>
                <th>Code</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let ocp of openCP">
                <td>{{ ocp.client.name }}</td>
                <td>{{ ocp.generatedCode }}</td>
                <td>{{ ocp.createdDate | date }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col col-xl-6 col-lg-12">
      <div class="card mb-3">
        <div class="card-header bg-dark text-clr-white">Active Client Applications</div>
        <div class="table-scroll">
          <table class="table table-sm">
            <thead>
              <tr>
                <th>Count</th>
                <th>Code</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let aca of activeCA" data-toggle="tooltip" (click)="open(contentACA, aca.cpId, 'activeClientApplication')">
                <td>{{ aca.count }}</td>
                <td>{{ aca.generatedCode }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #contentClch let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Client Call History</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="table-scroll">
      <table class="table table-sm">
        <thead>
          <tr>
            <th>
              Caller
            </th>
            <th>
              Client Pos
            </th>
            <th>
              Called Date
            </th>
            <th width="150">
              Description
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let aca of clchByIdList">
            <td>{{ aca.calledBy.fullname }}</td>
            <td>{{ aca.clientPosition.generatedCode}}</td>
            <td>{{ aca.calledDate }}</td>
            <td>{{ aca.description }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-secondary" (click)="deleteCoCHRecord()">Ok</button> -->
    <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
  </div>
</ng-template>
<ng-template #contentCoCH let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Consultant Call History</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="table-scroll ht-30">
      <table class="table table-sm">
        <thead>
          <tr>
            <th>
              S.No
            </th>
            <th>
              Caller
            </th>
            <th>
              Consultant
            </th>
            <th>
              Called Date
            </th>
            <th width="150">
              Description
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let aca of cochByIdList; let i=index">
            <td>{{i+1}}.</td>
            <td>{{ aca.calledBy.fullname }}</td>
            <td>{{ aca.consultant.fullname }}</td>
            <td>{{ aca.calledDate }}</td>
            <td>{{ aca.description }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-secondary" (click)="deleteCoCHRecord()">Ok</button> -->
    <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
  </div>
</ng-template>
<ng-template #contentACA let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Active Client Applications</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="table-scroll ht-30">
      <table class="table table-sm">
        <thead>
          <tr>
            <th>Position</th>
            <th>Client</th>
            <th>Consultant</th>
            <th>Interview Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let aca of activeCAById">
            <td>{{ aca.clientPosition.generatedCode }}</td>
            <td>{{ aca.clientPosition.client.name }}</td>
            <td>{{ aca.consultant.fullname }}</td>
            <td>{{ aca.interviewDate }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="modal-footer">
    <!-- <button type="button" class="btn btn-secondary" (click)="deleteCoCHRecord()">Ok</button> -->
    <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
  </div>
</ng-template>
