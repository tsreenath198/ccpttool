<div [@routerTransition]>
    <app-page-header [icon]="'fa-bar-chart-o'" [heading]="'Client Application Status'"></app-page-header>
    <div class="row">
        <div class="col-md-6">
            <input type="text" class="form-control" placeholder="search..." [(ngModel)]="currSearchTxt" />
            <div class="table-responsive">
                <table class="table table-hover table-striped">
                    <!-- <thead>
                        <tr>
                            <th>name</th>
                        </tr>
                    </thead> -->
                    <tbody>
                        <tr *ngFor="let casl of clientApplicationStatusList |  filter : 'description' :currSearchTxt ; let i = index">
                            <td class="table-data-padding" (click)="readOnlyEnable(casl)"
                                (dblclick)="editClientApplicationStatus(casl)">
                                {{casl.description}}</td>
                            <td class="table-data-padding" (click)="deleteConfirmation(casl)"><span
                                    class="fa fa-trash pull-right"></span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-md-6">
            <form name="form" id="clientApplicationStatusForm"
                (ngSubmit)="f.form.valid&&createClientApplicationStatus(f)" #f="ngForm" novalidate>
                <div class="row">
                    <div class="col-md-8">
                        <div class="form-group">
                            <label>Code<span class="required">*</span></label>
                            <input class="form-control" maxlength="3" [readonly]="readOnlyForm"
                                [(ngModel)]="clientApplicationStatusModel.code" name="code"
                                [ngClass]="{'is-invalid': f.submitted && code.invalid}" #code="ngModel" required>
                            <div class="invalid-feedback">
                                code is mandatory
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group">
                            <label>Description<span class="required">*</span></label>
                            <input class="form-control" [readonly]="readOnlyForm"
                                [(ngModel)]="clientApplicationStatusModel.description" name="decription"
                                [ngClass]="{'is-invalid': f.submitted && description.invalid}" #description="ngModel"
                                required>
                            <div class="invalid-feedback">
                                description is mandatory
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row text-center">
                    <div class="col-md-8">
                        <span *ngIf="formButtonsToggler;else toggleButtons">
                            <button type="submit" id="add" class="btn btn-secondary ml-3">Add</button>
                        </span>
                        <ng-template #toggleButtons>
                            <span *ngIf="editButtonToggler;else toggleEdit">
                                <button type="button" id="update" class="btn btn-secondary ml-2"
                                    (click)="editableForm()">Edit</button>
                            </span>
                            <ng-template #toggleEdit>
                                <button type="submit" id="update" class="btn btn-secondary ml-2"
                                    (click)="updateClientApplicationStatus(f)">Update</button>
                            </ng-template>
                        </ng-template>
                        <button type="button" id="cancel" (click)="cancelForm(f)"
                            class="btn btn-secondary ml-3">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>